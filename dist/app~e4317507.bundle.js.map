{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/DrawerInitiator.js","webpack://restaurant-apps/./src/scripts/utils/LikeInitiator.js","webpack://restaurant-apps/./src/scripts/utils/swRegister.js"],"sourcesContent":["import Detail from '../views/components/detail/Detail';\r\nimport Favorite from '../views/components/favorite/favorite';\r\nimport Home from '../views/components/home/Home';\r\n\r\nconst Routes = {\r\n    '/': Home,\r\n    '/detail/:id': Detail,\r\n    '/favorite': Favorite,\r\n};\r\n\r\nexport default Routes;\r\n","/* eslint-disable no-undef */\r\nconst UrlParser = {\r\n    parseActiveWithCombiner() {\r\n        const url = window.location.hash.slice(1).toLowerCase();\r\n        const splitUrl = this._urlSplitter(url);\r\n        return this._urlCombiner(splitUrl);\r\n    },\r\n\r\n    parseActiveUrlWithoutCombiner() {\r\n        const url = window.location.hash.slice(1).toLowerCase();\r\n        return this._urlSplitter(url);\r\n    },\r\n\r\n    _urlSplitter(url) {\r\n        const urlSplits = url.split('/');\r\n        return {\r\n            resource: urlSplits[1] || null,\r\n            id: urlSplits[2] || null,\r\n            verb: urlSplits[3] || null,\r\n        };\r\n    },\r\n\r\n    _urlCombiner(splitedUrl) {\r\n        return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n        + (splitedUrl.id ? '/:id' : '')\r\n        + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n    },\r\n};\r\n\r\nexport default UrlParser;\r\n","class DrawerInitiator {\r\n    static init({ button, drawer, content }) {\r\n        button.addEventListener('click', (event) => {\r\n            this._toggleDrawer(event, drawer);\r\n        });\r\n\r\n        content.addEventListener('click', (event) => {\r\n            this._closeDrawer(event, drawer);\r\n        });\r\n    }\r\n\r\n    static _toggleDrawer(event, drawer) {\r\n        event.stopPropagation();\r\n        drawer.classList.toggle('show');\r\n    }\r\n\r\n    static _closeDrawer(event, drawer) {\r\n        event.stopPropagation();\r\n        drawer.classList.remove('show');\r\n    }\r\n}\r\n\r\nexport default DrawerInitiator;\r\n","import createLikeButton from '../views/template/likeButton';\r\nimport createUnlikeButton from '../views/template/unlikeButton';\r\n\r\nconst LikeInitiator = {\r\n    async init({ likeButtonContainer, favoriteRestaurant, restaurant }) {\r\n        this._likeButtonContainer = likeButtonContainer;\r\n        this._restaurant = restaurant;\r\n        this._favoriteRestaurant = favoriteRestaurant;\r\n\r\n        await this._renderButton();\r\n    },\r\n\r\n    async _renderButton() {\r\n        const { id } = this._restaurant;\r\n\r\n        if (await this._isRestaurantExist(id)) {\r\n            this._renderLiked();\r\n        } else {\r\n            this._renderLike();\r\n        }\r\n    },\r\n\r\n    async _isRestaurantExist(id) {\r\n        const restaurant = await this._favoriteRestaurant.getRestaurant(id);\r\n        return !!restaurant;\r\n    },\r\n\r\n    stringToNode(htmlString) {\r\n        const div = document.createElement('div');\r\n        div.innerHTML = htmlString.trim();\r\n        return div;\r\n    },\r\n\r\n    _renderLike() {\r\n        this._likeButtonContainer.replaceChild(\r\n            this.stringToNode(createLikeButton()),\r\n            this._likeButtonContainer.children[0],\r\n        );\r\n\r\n        const buttonLike = document.querySelector('#likeButton');\r\n        buttonLike.classList.add('unactive');\r\n        buttonLike.addEventListener('click', async () => {\r\n            buttonLike.removeAttribute('class');\r\n            buttonLike.classList.add('active');\r\n\r\n            this._favoriteRestaurant.putRestauarant(this._restaurant);\r\n            this._renderButton();\r\n        });\r\n    },\r\n\r\n    _renderLiked() {\r\n        this._likeButtonContainer.replaceChild(\r\n            this.stringToNode(createUnlikeButton()),\r\n            this._likeButtonContainer.children[0],\r\n        );\r\n\r\n        const buttonLike = document.querySelector('#unlikeButton');\r\n        buttonLike.classList.add('active');\r\n\r\n        buttonLike.addEventListener('click', async () => {\r\n            buttonLike.removeAttribute('class');\r\n            buttonLike.classList.add('unactive');\r\n\r\n            this._favoriteRestaurant.deleteRestaurant(this._restaurant.id);\r\n            this._renderButton();\r\n        });\r\n    },\r\n};\r\n\r\nexport default LikeInitiator;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n    if (!('serviceWorker' in navigator)) {\r\n        console.log('Service Worker not supported in the browser');\r\n        return;\r\n    }\r\n\r\n    const wb = new WorkboxWindow.Workbox('../sw.bundle.js');\r\n\r\n    try {\r\n        await wb.register();\r\n        console.log('Success to register service worker');\r\n    } catch (error) {\r\n        console.error('Failed to register service worker', error);\r\n    }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["Detail","Favorite","Home","Routes","UrlParser","parseActiveWithCombiner","url","window","location","hash","slice","toLowerCase","splitUrl","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlSplits","split","resource","id","verb","splitedUrl","DrawerInitiator","button","drawer","content","addEventListener","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","createLikeButton","createUnlikeButton","LikeInitiator","init","likeButtonContainer","favoriteRestaurant","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurant","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getRestaurant","stringToNode","htmlString","div","document","createElement","innerHTML","trim","replaceChild","children","buttonLike","querySelector","add","removeAttribute","putRestauarant","deleteRestaurant","WorkboxWindow","swRegister","navigator","console","log","wb","Workbox","register","error"],"sourceRoot":""}