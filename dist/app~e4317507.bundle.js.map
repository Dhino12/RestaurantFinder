{"version":3,"file":"app~e4317507.bundle.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/routes/routes.js","webpack://restaurant-apps/./src/scripts/routes/url-parser.js","webpack://restaurant-apps/./src/scripts/utils/DrawerInitiator.js","webpack://restaurant-apps/./src/scripts/utils/LikeInitiator.js","webpack://restaurant-apps/./src/scripts/utils/swRegister.js"],"sourcesContent":["import Detail from '../views/components/detail/Detail';\r\nimport Favorite from '../views/components/favorite/favorite';\r\nimport Home from '../views/components/home/Home';\r\n\r\nconst Routes = {\r\n    '/': Home,\r\n    '/detail/:id': Detail,\r\n    '/favorite': Favorite,\r\n};\r\n\r\nexport default Routes;\r\n","/* eslint-disable no-undef */\r\nconst UrlParser = {\r\n    parseActiveWithCombiner() {\r\n        const url = window.location.hash.slice(1).toLowerCase();\r\n        const splitUrl = this._urlSplitter(url);\r\n        return this._urlCombiner(splitUrl);\r\n    },\r\n\r\n    parseActiveUrlWithoutCombiner() {\r\n        const url = window.location.hash.slice(1).toLowerCase();\r\n        return this._urlSplitter(url);\r\n    },\r\n\r\n    _urlSplitter(url) {\r\n        const urlSplits = url.split('/');\r\n        return {\r\n            resource: urlSplits[1] || null,\r\n            id: urlSplits[2] || null,\r\n            verb: urlSplits[3] || null,\r\n        };\r\n    },\r\n\r\n    _urlCombiner(splitedUrl) {\r\n        return (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\r\n        + (splitedUrl.id ? '/:id' : '')\r\n        + (splitedUrl.verb ? `/${splitedUrl.verb}` : '');\r\n    },\r\n};\r\n\r\nexport default UrlParser;\r\n","class DrawerInitiator {\r\n    static init({ button, drawer, content }) {\r\n        button.addEventListener('click', (event) => {\r\n            this._toggleDrawer(event, drawer);\r\n        });\r\n\r\n        content.addEventListener('click', (event) => {\r\n            this._closeDrawer(event, drawer);\r\n        });\r\n    }\r\n\r\n    static _toggleDrawer(event, drawer) {\r\n        event.stopPropagation();\r\n        drawer.classList.toggle('show');\r\n    }\r\n\r\n    static _closeDrawer(event, drawer) {\r\n        event.stopPropagation();\r\n        drawer.classList.remove('show');\r\n    }\r\n}\r\n\r\nexport default DrawerInitiator;\r\n","import createLikeButton from '../views/template/likeButton';\r\nimport createUnlikeButton from '../views/template/unlikeButton';\r\n\r\nconst LikeInitiator = {\r\n    async init({ likeButtonContainer, favoriteRestaurant, restaurant }) {\r\n        this._likeButtonContainer = likeButtonContainer;\r\n        this._restaurant = restaurant;\r\n        this._favoriteRestaurant = favoriteRestaurant;\r\n\r\n        await this._renderButton();\r\n    },\r\n\r\n    async _renderButton() {\r\n        const { id } = this._restaurant;\r\n\r\n        if (await this._isRestaurantExist(id)) {\r\n            this._renderLiked();\r\n        } else {\r\n            this._renderLike();\r\n        }\r\n    },\r\n\r\n    async _isRestaurantExist(id) {\r\n        const restaurant = await this._favoriteRestaurant.getRestaurant(id);\r\n        return !!restaurant;\r\n    },\r\n\r\n    stringToNode(htmlString) {\r\n        const div = document.createElement('div');\r\n        div.innerHTML = htmlString.trim();\r\n        return div;\r\n    },\r\n\r\n    _renderLike() {\r\n        this._likeButtonContainer.replaceChild(\r\n            this.stringToNode(createLikeButton()),\r\n            this._likeButtonContainer.children[0],\r\n        );\r\n\r\n        const buttonLike = document.querySelector('#likeButton');\r\n        buttonLike.classList.add('unactive');\r\n        buttonLike.addEventListener('click', async () => {\r\n            buttonLike.removeAttribute('class');\r\n            buttonLike.classList.add('active');\r\n\r\n            this._favoriteRestaurant.putRestauarant(this._restaurant);\r\n            this._renderButton();\r\n        });\r\n    },\r\n\r\n    _renderLiked() {\r\n        this._likeButtonContainer.replaceChild(\r\n            this.stringToNode(createUnlikeButton()),\r\n            this._likeButtonContainer.children[0],\r\n        );\r\n\r\n        const buttonLike = document.querySelector('#unlikeButton');\r\n        buttonLike.classList.add('active');\r\n\r\n        buttonLike.addEventListener('click', async () => {\r\n            buttonLike.removeAttribute('class');\r\n            buttonLike.classList.add('unactive');\r\n\r\n            this._favoriteRestaurant.deleteRestaurant(this._restaurant.id);\r\n            this._renderButton();\r\n        });\r\n    },\r\n};\r\n\r\nexport default LikeInitiator;\r\n","import * as WorkboxWindow from 'workbox-window';\r\n\r\nconst swRegister = async () => {\r\n    if (!('serviceWorker' in navigator)) {\r\n        console.log('Service Worker not supported in the browser');\r\n        return;\r\n    }\r\n\r\n    const wb = new WorkboxWindow.Workbox('../sw.bundle.js');\r\n\r\n    try {\r\n        await wb.register();\r\n        console.log('Success to register service worker');\r\n    } catch (error) {\r\n        console.error('Failed to register service worker', error);\r\n    }\r\n};\r\n\r\nexport default swRegister;\r\n"],"names":["Home","Detail","Favorite","parseActiveWithCombiner","url","window","location","hash","slice","toLowerCase","splitUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlSplits","split","resource","id","verb","splitedUrl","DrawerInitiator","button","drawer","content","addEventListener","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","i","init","likeButtonContainer","favoriteRestaurant","restaurant","_likeButtonContainer","_restaurant","_favoriteRestaurant","_renderButton","_isRestaurantExist","_renderLiked","_renderLike","getRestaurant","stringToNode","htmlString","div","document","createElement","innerHTML","trim","replaceChild","createLikeButton","children","buttonLike","querySelector","add","removeAttribute","putRestauarant","createUnlikeButton","deleteRestaurant","navigator","console","log","wb","WorkboxWindow","register","error"],"sourceRoot":""}